ampache (3.5.4-7) unstable; urgency=high

  * Adjusted symlink creation in debian/postinst so it now works.
    Closes: #593181
  * Upstream neglected to comment out the "require once" for
    /modules/pearxmlrpc/rpc.php which causes the inital login after the 
    completion of the web installer to fail due to php not being able to find
    /modules/pearxmlrpc/rpc.php.  Closes: #593182

 -- Charlie Smotherman <cjsmo@cableone.net>  Sun, 17 Aug 2010 06:51:29 -0500

ampache (3.5.4-6) unstable; urgency=high

  * Setting urgency to high as this fixes an RC bug.
  * Upstream has decided to remove pearxmlrpc and make the package
    depend on php5-xmlrpc. Closes: #591984
  * debian/control
    - added php5-xmlrpc to Depends field.
  * debian/rules
    - added -X option to remove /modules/pearxmlrpc

 -- Charlie Smotherman <cjsmo@cableone.net>  Thu, 12 Aug 2010 09:59:36 -0500

ampache (3.5.4-5) unstable; urgency=medium

  * Setting urgency to medium as this fixes an RC bug.
  * debian/rules
    - After discussing with upstream it was decided to remove 
      xspf_jukebox.fla and xspf_jukebox.swf. Added -X option to dh_install to
      remove xspf_jukebox.fla and xspf_jukebox.swf. Closes: #591202
  * debian/README.Debian
    - Added a note regarding the current state of the xspf_jukebox 
      flash player.
  * Added updated ja.po, thx Hideki Yamane Closes: #591074
  * debian/control
    - Bumped Standards Version to 3.9.1, no changes needed.

 -- Charlie Smotherman <cjsmo@cableone.net>  Sun, 01 Aug 2010 23:11:36 -0500

ampache (3.5.4-4) unstable; urgency=low

  * Updated README.Debian to account for changes in mysql and phpmyadmin.
    Closes: #589078
  * Force removal of /etc/cron.daily/ampache on remove and purge.
    Closes: #586647
  * Added new ru.po. Thx Yuri Kozlov Closes: #585694
  * Corrected formatting of previous log entry.
  * Bumped Standards Version to 3.9.0 no changes needed.

 -- Charlie Smotherman <cjsmo@cableone.net>  Thu, 15 Jul 2010 06:42:51 -0500

ampache (3.5.4-3) unstable; urgency=low

  * Added new sv.po. Thx Martin Bagge. Closes: #582701
  * Added new es.po. Thx Francisco Javier Cuadrado. Closes: #581870
  * Added new fr.po. Thx Filippo Rusconi.  Closes: #581654
  * Added new de.po. Thx Helge Kreutzmann. Closes: #580737
  * Added new pt.po. Thx Am√©rico Monteiro. Closes: #580440
  * Removed superfluous spaces in ampache.templates.  Closes: #580738
  * Added ampache.cron.daily this will run add and clean on all available
    catalogs once a day (usually early mourning).
  * debian/postinst made use of variable for /usr/sbin/lighty-enable-mod to
    satisfy lintian.
  * debian/postinst added remove statement to remove lighty_ampache.conf if
    apache2 is installed and vic versa.
  * debian/postrm made use of variable for /usr/sbin/lighty-disable-mod to
    satisfy lintian.
  * debian/postrm added rm statement to remove ampache.cron.daily on purge.
  * Removed find rule from debian/rules, lintian was complaining of
    unrepresentable changes to the source.
  * debian/links added symlink creation for ampache.cron.daily to /etc/ampache.

 -- Charlie Smotherman <cjsmo@cableone.net>  Sun, 06 June 2010 22:22:31 -0500

ampache (3.5.4-2) unstable; urgency=low

   * Added support for lighttpd servers.  What this means is that the default
   behavior is for apache2 to be installed on new installs.  However if
   lighttpd is installed and configured correctly the maintainer scripts 
   should pickup on this and install ampache into the proper locations, 
   create the need sym links, and enable the needed lighttpd modules.
   Closes: #549009
   * Made package depend on nusoap. Closes: #579829
   * debian/control:
     - Recommends, package should recommend the mysql-server meta-package so 
     the default mysql-server is installed.  This will eleminate the need for 
     additional uploads to increase mysql-server version number.
     - added additional depends for lighttpd support.
     - moved apache2 | lighttpd to the Recommends field.
     - added dependency on libnusoap-php
   * debian/ampache.postrm: 
     - added purge statement to webserver restart so webserver reloads on 
     remove and purge.
     - added conditional removal statements to ampache.postrm so all user
     modified config files are removed on purge.
     - added lighttpd support
   * debian/ampache.postinst:
     - correted incorrect ampache.conf symlink creation. (LP: #533989)
     - added lighttpd support
   * debian/ampache.preinst:
     - added ampache.preinst to correct sym link naming mismatch on upgrades.
     (LP: #558697)
     - added ampache.cfg.php backup to ampache.preinst, this way we make a 
     backup copy of ampache.cfg.php before upgrade begins. 
   * debian/postinst:
     - removed ampache.cfg.php backup and migration, this was only need until 
     Ubuntu Hardy reached EOL.
     - added lighttpd support.
   * debian/ampache.templates:
     - added webserver types question for lighttpd support.
     - combined webserver configuration and webserver restart into one
     question (webserver_restart).
     - reworded webserver_restart to be more generic in scope.
   * debian/ampache.config:
     - remove webserver-configure bits, this question is no longer needed.
   * debian/amp-lighty.conf:
     - added to create the lighttpd alias.
   * debian/ampache.install:
     - added amp-lighty.conf to be installed into /etc/ampache.
   * debian/conf:
     - added the directory debian/conf and moved debian/ampache.conf and 
     debian/lighttpd_ampache.conf into it.
   * debian/README.Debian:
     - updated outdated links.  Made document 80 characters wide.
   * debian/rules:
     - added -Xnusoap to remove upstream copy of nusoap.
   * debian/links:
     - added nusoap sym links.
        
 -- Charlie Smotherman <cjsmo@cableone.net>  Sat, 01 May 2010 14:12:45 -0500

ampache (3.5.4-1) unstable; urgency=low

  * New upstream release, summary of changes:
    - Added default RPC ACLs for new installations 
    - Fix catalog size math for catalogs up to 4TB (Thx Joost.t.Hart@planet.nl)
    - Fix httpq not correctly skipping to new song 
    - Fix refreshing of localplay playlist when an item is skipped to
    - Fix missing Content-Disposition filename= on non-transcoded songs
    - Fix refreshing of localplay playlist when an item is removed
    - Correct issue with some mp3s bitrates not being detected, which
      in turn breaks length calculations
    - Removed unused/dead files
    - Correct issue with single song downloads
  * Updated Standards Version to 3.8.4. No changes needed.

 -- Charlie Smotherman <cjsmo@cableone.net>  Wed, 03 Feb 2010 16:32:41 -0600

ampache (3.5.3-1) unstable; urgency=high

  *  New upstream release, summary of changes:
      - Added local authtype which uses PHP's PAM module
      - Correct potential security issues due to misuse of REQUEST for write
	  operations rather then POST. Thx Raphael Geissert geissert@debian.org.
  *  Added php5-auth-pam to debian/control Depends section.
  *  Setting urgency to high as this fixes potential security issues.

 -- Charlie Smotherman <cjsmo@cableone.net>  Sun, 20 Dec 2009 11:31:45 -0500

ampache (3.5.2-1) unstable; urgency=low

   * New upstream maintenance release:
      - Fix typo that caused song count to not be set on tag xml response.
      - Fix tag methods so that alpha_match and exact_match works.
      - Fix limit and offset not working on search_songs API method.
      - Fix import m3u on catalog build so it does something.
      - Fix inconsistent view during catalog operations.
      - Sort malformed files into "Unknown (Broken)" rather then leaving them
        in "Unknown (Orphaned)".
      - Fix API democratic voting methods (Thx kindachris).
      - Add server version information to API ping command.
      - Fix Localplay API methods (Thx thomasa).
      - Improve bin/catalog_update.inc to allow only verify, clean or add
        (Thx ascheel).
      - Fix issue with batch download and UNC paths (Thx greengeek).
      - Added config option to turn caching on/off, Default is off.
      - Fix issue where file tag pattern was ignored if files have no tag
        structure.
      - Add TDRC to list of parsed id3v2 tags.
      - Fix issue where rating could get cached and not update the display
        correctly until a page reload.
      - Fix User Stats having a formating issue and not listing the active
        playlist correctly.
      - Fix incorrect default ogg transcode target format in the default
        config file.
      - Fix issue where the user preferences were not respected by the
        streaming code due to caching.
      - Fix issue where prevent multiple logins would prevent all logins.
   * Increased debhelper to >=7.0.50, for the use of dh overrides in 
      debian/rules.
   * Increased Standards Version to 3.8.3.  No changes needed.
   * Added Spanish debconf template translation es.po.  Thx Fran 
      Closes: #552701.
   * Added Japanese debconf template translation ja.po.  Thx Hideki 
      Closes: #554089.
   * Added php5-cli to debian/control Depends field.  Closes: #553313.
   * Removed the find rule for messages.po as it has been corrected upstream.
 
 -- Charlie Smotherman <cjsmo@cableone.net>  Thu, 19 Nov 2009 16:23:35 -0500

ampache (3.5.1-1) unstable; urgency=high

   * Setting urgency to  high as this fixes a RC bug.
   * New upstream release.  Summary of new features:  (LP: #377016)
     - Make the PHP error a little clearer for windows users by indicating
       that their version of PHP is < 5.3 (required for windows)
     - Fix random methods not working for Localplay
     - Fix extra space on prefixed albums (Thx ibizaman)
     - Add missing operator on tag and rating searches so they will
       work with other methods (Thx kiehnet@netscape.net)
     - Fix get_art_url() so it returns something... 
     - Fix problem with creating new playlists where it doesn't work
       but appending to an existing did. 
     - Fixed issue with url_to_song, also cleaned up the code a bit
     - Fixed issue with Random All Catalogs
     - Fixed issues with API and Tag methods not working as advertised
     - Fix endless loop in getid3() with malformed genre tags in mp3s
     - Fixed show test page always returning false on web path
     - Update Man page to adhear to newer Debian rules
     - Fixed issue with Videos being incorrectly registered with stats
       and now playing as songs. 
     - Fixed missing > in HTML for song row
   * Bumped Standards-Version to 3.8.2, no changes needed.
   * Bumped debhelper to dh 7.
     - increased debian/compat to 7.
	 - debian/rules removed dh_clean -k in favor of dh_prep
   * Lintian complains of FreeMonoMedium.ttf being an embeded fonts package.
     FreeMonoMedium.ttf is actually part of the ttf-freefont package.
     - added ttf-freefont to the Depends section of debian/control.
     - added -XFreeMono-Medium to dh_install in debian/rules.
     - added FreeMono.ttf symbolic link to debian/links.
   * Lintian complains of the wrong file permissions for 
     -  /locale/base/gather-messages.sh, added -Xgather-messages.sh to 
	   debian/rules, gather-messages.sh is not used by ampache proper and 
	   can be safely removed.  It is only utilized by developers who are 
	   creating or editing the translation files.
	 -  /locale/pl_PL/LC_MESSAGES/messages.po added find and chmod rule 
	   to debian/rules.
	 -  /locale/pl_PL/LC_MESSAGES/messages.mo added find and chmod rule 
	   to debian/rules.
	 -  /docs/CHANGELOG added find and chmod rule to debian/rules.
   * Lintian complains of wrong-name-for-upstream-changelog
	 -  install upstream CHANGELOG to /usr/share/ampache/www/docs
	 -  added find and gzip -9 rule to debian/rules
	 -  added symlink creation to debian/links to link
	   /usr/share/ampache/www/docs/CHANGELOG.gz to 
	   /usr/share/doc/ampache/changelog.gz  
   * Lacy Marrow has responded and has stated that he is dropping the GPL-3 
     licensing of his work and is now releasing version 5.9.5 of the 
     XSPF JukeBox under the same BSD license that the original version of XSPF 
     Music Player was released under (XSPF JukeBox is based on XSPF Music 
     Player).  So now XSPF Music Player and XSPF JukeBox are now released under
     the same BSD type license.  This closes RC Bug #526719.  Closes: #526719
         - Updated debian/copyright to refect this.
    * Added dh_installman to debian/rules so the manpage now installs correctly.
         - Added debian/ampache.manpages.
    * debian/ampache.config downgraded db_input to medium
    * debian/copyright removed (C) in favor of the word copyright.
    * addded copyright header info to debian/po/nl.po and debian/po/sv.po.
 
 -- Charlie Smotherman <cjsmo@cableone.net>  Tue, 07 Jul 2009 07:23:35 -0500

ampache (3.5+svn2078-1) unstable; urgency=low

   [Not Released]
   * New upstream release.  Summary of new features
     - Video Streaming Support
     - Access Control List Wizard / Simplification
     - IPv6 Support on all Access Lists and IP related operations
     - Corrected Multi-Byte Character Support
     - Up to date Translations in 14 different languages
     - Optional Lyrics Support
     - Basic Tag Support (allowing multiple genres per song)
     - Countless Optomizations / Caching to speed up the interface
     - Vastly Improved API with simplified configuration and setup
     - Standardized UI should give users a more consistent experience
     - Enable Last.FM plug-in by default
     - Ability to Run Add/Verify catalog operations starting at a specific
       Sub Directory rather then indexing the whole catalog.
   * Added ${misc:Depends} to debian/control Depends section to fix lintian
     error.
   * Demoted mysql-server-5.0 to the Suggests field of debian/control, so
     mysql-server-5.0 is not installed by default.  Closes: #526475
   * Updated standards version to 3.8.1.
   * Fixed charset of XML documents returned (Thx blueorder).  (LP: #360411)
   * Added /modules/flash/xspf_jukebox.fla as this is the source code for the
     XSPF JukeBox media player.  This fixes the most serious part of, and is a
     partial fix for RC bug #526719.
   * Added XSPF JukeBox copyright information into debian/copyright.  This is a 
     partial fix for #526719.
   * Added copyright header information to po/nl.po and po/sv.po
   * Changed debian/copyright to the debian proposed machine readeable
     format.
   * Added /doc/man/man1/ampache.1 to debian/ampache.install.
   * Added Vcs-Svn and Vcs-Browser section to debian/control.

 -- Charlie Smotherman <cjsmo@cableone.net>  Wed, 06 May 2009 00:21:35 -0500

ampache (3.4.4-1) unstable; urgency=low

    * New upstream release.
    * Fixed debian/ampache.config so debconf now asks questions correctly.
    * Reworked debian/ampache.postinst server restart to be server reload. 
      Added additional check for ampache.cfg.php, then backup ampache.cfg.php
      prior to running migrate_config.inc.  Used full pathname in 
      migrate_config.inc.
    * Added Suggest section to debian/control.  Demoted php5-gd and phpmyadmin
      to the Suggest section in an attempt to keep extra fonts packages and 
      X11 packages from being pulled in on a server setup.
    * Added Japanese translation.  
    * Changed debian/copyright to the machine readable debian proposed format.
      Updated debian/copyright with Japanese translation copyright info. 
    * Added debian/watch.
    * Changed maintainer email address in debian/control and debian/changelog.

 -- Charlie Smotherman <cjsmo@ubuntu.com>  Sat, 17 Jan 2009 18:23:43 -0500

ampache (3.4.3-1) unstable; urgency=low

    * New upstream maintenance release, please see src/docs/CHANGELOG for
      complete details.
    * Updated package to depend on libphp-snoopy.
    * Added dh_install -XSnoopy.class.php to debian/rules.
    * Added debian/dirs.
    * Added snoopy symlink to debian/links.
    * Added prototype symlink to debian/links.
    * Updated debian/ampache.postrm to remove prototype/snoopy symlinks on
      purge.
    * Updated debian/rules by removing -Xgather-messages.sh option from 
      dh_install.  Upstream decided to remove 
      src/locale/base/gather-messages.sh from the .org.tar.gz.
      Closes: #496369
        
 -- Charlie Smotherman <cjsmo@cableone.net>  Fri, 03 Oct 2008 05:48:35 -0500

ampache (3.4.2-1) unstable; urgency=low

    * Updated ampache.conf, postinst, postrm, to fix a debconf problem.
    * Updated debian/rules by adding -Xgather-messages.sh option to dh_install.
      Closes:  #496369
    * Updated debian/rules by adding -Xprototype.js option to dh_install.
      This was added to correct a lintian error.
    * Updated debian/control so ampache now depends on libjs-prototype.
    * Updated debian/links to create symlink to libjs-prototype.
    * Updated Standards Version to 3.8.0.
    * Added debian/watch.
    * Updated debian/copyright with /src/locale/ja_JP copyright info.
        
 -- Charlie Smotherman <cjsmo@cableone.net>  Thu, 29 Aug 2008 12:05:34 -0500

ampache (3.4.1-1) unstable; urgency=low

    * Included numerous upstream fixes, please see /src/docs/CHANGELOG
      dated 05.31.2008 for more details.
    * Removed /src/debian/preinst, was not needed.
    * Removed Vcs entry in /src/debian/control, was not needed.
    * Added updated sv.po translation.  Thanks Martin Bagge.  Closes: #483432
    * Updated /src/debian/copyright with sv.po and nl.po copyright info.
    * Updated /src/debian/copyright with /src/locale/ca_CA copyright info.
    * Removed /src/locale/is_IS copyright info from /src/debian/copyright, 
      /src/locale/is_IS removed by upstream.
    
 -- Charlie Smotherman <cjsmo@cableone.net>  Sat, 31 May 2008 09:32:43 -0500

ampache (3.4-2) unstable; urgency=high

    * Included some upstream gather album art fixes.
    
 -- Charlie Smotherman <cjsmo@cableone.net>  Thu, 15 May 2008 18:44:23 -0500

ampache (3.4-1) unstable; urgency=high

    * New Upstream version release.
    * Added updated nl.po translation.  Thanks Bart Cornelis. Closes: #463441
    
 -- Charlie Smotherman <cjsmo@cableone.net>  Sat, 10 May 2008 07:53:23 -0500

ampache (3.3.3.5-dfsg1-1) unstable; urgency=high

    * Removed COLLEGE.ttf from the org.tar.gz. Closes: #455698
    * Removed the -XCOLLEGE.ttf and -Xhelperapps options from dh_install in
      debian rules. 
    * Removed empty helperapps folder in src/modules/id3 to correct lintian
      error.
    * Updated Standards Version to 3.7.3.

 -- Charlie Smotherman <cjsmo@cableone.net>  Thu, 28 Dec 2007 10:20:44 -0500

ampache (3.3.3.5-dfsg-3) unstable; urgency=high

    * Added -XCOLLEGE.ttf option to dh_install in debian rules.  Added
      ttf-freefont to the depends section of debian control. Added link to
      freefont in debian links. Closes: #455698
    * Removed php5-cli from depends section of debian control.
    * Moved php5-gd from the depends field to the recommends field.
      Closes: #452638 
    * Added Dutch po file, thanks Bart Cornelis. Closes: #449405
    * Fixed a potential display problem.
    * Updated debian copyright with Dutch translation copyright information.
    * Added -Xhelperapps option to dh_install in debian rules to correct a 
      lintian error.

 -- Charlie Smotherman <cjsmo@cableone.net>  Thu, 20 Dec 2007 01:17:24 -0500
    
ampache (3.3.3.5-dfsg-2) unstable; urgency=low

    * Added dpatch system.
    * Fixed getid3.lib.php.
    * Updated debian/copyright to include translator copyright information.
    * Upstream will not be including libphp-snoopy into version 3.3.3.5.
      However he is considering it's usage in version 3.4 which is in
      development. Closes: #443947
    * Debconf templates and debian/control reviewed by the debian-l10n-
      english team as part of the Smith review project.  Thanks Christian
      Perrier <bubulle@debian.org>.  Closes: #445084, #446006
    * [Debconf translation updates]
    * Tamil. Closes: #445597
    * Portuguese. Closes: #445606, #442391
    * Czech. Closes: #445654
    * Basque. Closes: #445949
    * German. Closes: #446004
    * Russian. Closes: #446142
    * Finnish. Closes: #446407
    * French. Closes: #446553
    * Italian. Closes: #446591
    * Galician. Closes: #446605
    * Vietnamese. Closes: #446987
    * Brazilian Portuguese. Closes: #447758

 -- Charlie Smotherman <cjsmo@cableone.net>  Tue, 23 Oct 2007 20:28:39 +0200

ampache (3.3.3.5-dfsg-1) unstable; urgency=low

    * Initial release (Closes: #407337)  

 -- Charlie Smotherman <cjsmo@cableone.net>  Wed,  1 Aug 2007 11:52:03 -0500
